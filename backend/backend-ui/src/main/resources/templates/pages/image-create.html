<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout.html}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body layout:fragment="body">
    <main class="d-flex justify-content-center align-items-center">
        <form th:action="@{/panel/images/create}" method="post" enctype="multipart/form-data"  style="margin: 0 auto; width: 500px;">
            <div class="form-group">
                <label for="file-input">Файл</label>
                <input type="text" class="form-control rounded-3" id="file-input" name="filename" placeholder="Ім'я файлу"/>
            </div>
            <div class="form-group">
                <label for="filename-input">Ім'я файлу</label>
                <input type="file" class="form-control rounded-3" id="filename-input"  name="file" placeholder="Файл"/>
            </div>
            <div class="form-group">
                <label for="path-select">Призначення</label>
                <select id="path-select" name="path" class="form-control rounded-3">
                    <option value="">Салон</option>
                    <option value="emp">Працівник</option>
                </select>
            </div>
            <div class="form-group" id="form-username-block" style="display: none">
                <label for="username-select">Працівник</label>
                <select class="form-control rounded-3" id="username-select" name="username">
                    <option value="">Всі</option>
                    <option th:each="e : ${employees}"
                            th:value="${e.user.username}"
                            th:text="${e.user.username}"></option>
                </select>
            </div>
            <div class="form-group" id="form-username-block" style="display: none">
                <label for="username-select">Працівник</label>

            </div>
            <div class="form-group">
                <label for="fullfilename-input">Повне ім'я</label>
                <input type="text" id="fullfilename-input" class="form-control rounded-3" name="fullfilename" disabled/>
            </div>
            <div class="form-group">
                <button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" type="submit">Створити</button>
            </div>
        </form>
    </main>
    <script>
        const fullFilenameInput = document.querySelector("#fullfilename-input");
        const pathSelect = document.querySelector("#path-select");
        const formUsernameBlock = document.getElementById("form-username-block");

        pathSelect.addEventListener("change", function () {
            const selectedValue = pathSelect.value;
            switch (selectedValue) {
                case '': case '*':
                    formUsernameBlock.style.display = 'none';
                    break;
                case 'emp':
                    formUsernameBlock.style.display = 'block';
            }
        });
    </script>
</body>
</html>