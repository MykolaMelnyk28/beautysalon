<div class="tree" *ngIf="root">
  <div class="tree-content" *ngFor="let child of root.children">
    <app-tree-node
      [node]="child"
      (click)="handleClick(child)"
      [isCollapsed]="isNodeCollapsed(child)"
    />
    <div class="tree-sub" *ngIf="!isNodeCollapsed(child)">
      <app-tree
        [root]="child"
        class="sub"
        (nodeClicked)="nodeClicked.emit($event)"
        (nodeNotLeafClicked)="nodeNotLeafClicked.emit($event)"
        (nodeLeafClicked)="nodeLeafClicked.emit($event)"
      />
    </div>
  </div>
</div>
